var interactiveMap=function(a){var c={positionPins:function(){a(".interactive-map-container").find(".pin").each(function(){a(this).css({top:a(this).attr("data-top"),left:a(this).attr("data-left")})})},isTouchDevice:function(){if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)return!0;var a=["("," -webkit- -moz- -o- -ms- ".split(" ").join("touch-enabled),("),"heartz)"].join("");return window.matchMedia(a).matches},floatPin:function(){var g=a(".interactive-map-container").find(".pin");
if(c.isTouchDevice()){var d=window.innerWidth;g.css("float","none");g.each(function(a){})}},initPinClick:function(){var g=a(".interactive-map-container"),d=g.find(".pin"),e=g.find(".pin-details"),h=a(".interactive-map-reference"),k=a(".interactive-mobile-container__close");c.floatPin();var f;d.click(function(b){b.stopPropagation();c.isTouchDevice()&&(f=b=a(this),b.position(),a(this).attr("data-top"),a(this).attr("data-left"),a(".interactive-map-container .map-wrapper").width(),a(".interactive-map-container .map-wrapper").height(),
d.not(b).removeClass("show"),e.not(b.find(".pin-details")).hide(),b.hasClass("show")||(b.find(".pin-details").stop().slideDown("0"),b.addClass("show"),768<=window.innerWidth&&c.isTouchDevice()?(b.css("cssText","top: 0 !important;left: 29% !important"),a(".interactive-web-container__overlay").toggleClass("interactive-web-container__overlay--show"),g.find(".pin.show").toggleClass("interactive-web-container__overlay--width")):b.css("cssText","top: 0 !important;left: 0 !important"),b.css({position:"absolute",
width:"100%","margin-top":"0","margin-left":"0"}),k.css("display","inline-block"),h&&a("html, body").animate({scrollTop:h.offset().top-55},500)))});k.click(function(b){1024>=window.innerWidth&&c.isTouchDevice()&&f.find(".pin-details").stop().slideUp("0",function(){f.removeClass("show");f.removeAttr("style");k.css("display","none");a(".interactive-web-container__overlay").removeClass("interactive-web-container__overlay--show");d.removeClass("interactive-web-container__overlay--width");c.floatPin()})});
d.click(function(b){b.stopPropagation();c.isTouchDevice()||(b=a(this),a(this).addClass("isOpen"),f=b,b.position(),a(this).attr("data-top"),a(this).attr("data-left"),a(".interactive-map-container .map-wrapper").width(),a(".interactive-map-container .map-wrapper").height(),d.not(b).removeClass("show"),e.not(b.find(".pin-details")).hide(),b.hasClass("show")||(b.find(".pin-details").stop().slideDown("0"),b.addClass("show"),768<window.innerWidth&&!c.isTouchDevice()?(b.css("cssText","top: 0 ;left: 35%"),
a(".interactive-web-container__overlay").toggleClass("interactive-web-container__overlay--show")):b.css("cssText","top: 0 !important;left: 50% !important; transform: translateX(-50%)"),b.css({position:"absolute",width:"360px !important","margin-top":"0","margin-left":"0"}),k.css("display","inline-block"),h&&a("html, body").animate({scrollTop:h.offset().top-81},500),b=a(this),0!=a(b[0]).children().siblings(".pin-details").find(".learn-more").length?a(".interactive-map-container .description").css("height",
"294px"):(a(".interactive-map-container .description").css("margin-bottom","0px !important"),a(".interactive-map-container .description").css("height","334px")),b=a(this).data("at-module"),atModel.doAtEvent(b+atModel.atSpliter+window.location.href,"action",event)))});k.click(function(b){b.stopPropagation();c.isTouchDevice()||f.find(".pin-details").stop().slideUp("0",function(){f.removeClass("show");f.removeAttr("style");var b=a(".isOpen").attr("data-top"),d=a(".isOpen").attr("data-left");a(".isOpen").css({top:b,
left:d});768<window.innerWidth&&!c.isTouchDevice()&&(k.css("display","none"),a(".interactive-web-container__overlay ").removeClass("interactive-web-container__overlay--show"),a(".isOpen").removeClass("isOpen"));c.floatPin()})})},init:function(){a(document).ready(function(){c.getHeight();c.positionPins();c.initPinClick()})}};a(window).on("resize",function(){c.getHeight();c.positionPins();c.initPinClick();c.floatPin()});c.getHeight=function(){var c;a("div[class*\x3d'hotspot-index-']").each(function(){a(this).find("div").each(function(){"imageHeight"==
a(this).attr("class")?c=a(this).text():"imageWidth"==a(this).attr("class")&&(h=a(this).text())})});var d=c/h,e=a(window).width();if(1310<e){var h=e=1310;d*=e;a(".interactive-map-container .web-wrapper").outerHeight(d);a(".interactive-map-container .web-wrapper").width(e)}else 1E3>e?(d*=e,a(".interactive-map-container .web-wrapper").width(e),a(".interactive-map-container .web-wrapper").outerHeight(d)):(e=a(window).width(),d*=e,a(".interactive-map-container .web-wrapper").outerHeight(d),a(".interactive-map-container .web-wrapper").width(e))};
return c}($);interactiveMap.init();