function getCurrentBreakpoint(){return window.getComputedStyle(document.querySelector("body"),"::before").getPropertyValue("content").replace(/"/g,"")}function setQueryString(a,b){var c=new URL(location.href);b&&c.searchParams.set(a,b);!b&&c.searchParams.delete(a);history.replaceState(null,null,c.toString())}function wordEndWith(a,b){var c=a.length-b.length;return 0<=c&&a.lastIndexOf(b)==c}
function debounce(a,b){var c;return function(){var d=this,e=arguments;clearTimeout(c);c=setTimeout(function(){a.apply(d,e)},b)}}(function(){var a=$("html").attr("lang");a=0<=["zh-CN","zh"].indexOf(a);window.isCN=a;window.isCnAnalytics="undefined"!=typeof ha})();
for(var banner=function(a){return{init:function(b){a(document).ready(function(){for(var c=a(b+".carousel"),d=0;d<c.length;d++){var e=a(c[d]).attr("data-transition-interval"),f=a(c[d]).attr("data-auto-transition"),g=a(c[d]).find(".video-play-btn"),h=a(c[d]).find(".explore-video-link"),k=a(".video-play-btn-right");1==a(c[d]).find(".carousel-item").length?a(c[d]).find(".carousel-indicators").hide():a(c[d]).find(".carousel-indicators").show();g.click(function(){c.carousel("pause")});k.click(function(){c.carousel("pause")});
h.click(function(){c.carousel("pause")});"true"==f?a(c[d]).carousel({interval:parseInt(e)}):a(c[d]).carousel({interval:0})}})}}}($),bannerArray=".carousel-pc .new-banner-full .hero-banner-full .small-banner-full-carousel .big-banner-full .split-banner-carousel".split(" "),i=0;i<bannerArray.length;i++)banner.init(bannerArray[i]);
$(function(){$(".video-play-btn, .video-play-btn-right, .explore-video-link,.subscribe-btn").click(function(){$(".header-wrapper").css("z-index","1")});$(".modal-header .close").click(function(){$(".header-wrapper").css("z-index","10000");$(".carousel").carousel("cycle")})});
$(document).ready(function(){var a=document.querySelector(".pin-details .description");if(a){$clamp(a,{clamp:8});a=document.querySelector(".pin-title-cont .pin-title");$clamp(a,{clamp:2});a=[".rtl .split-banner-content__header, .rtl .split-banner-content__subheader, .rtl .split-banner-content__item-detail",".rtl .newsroom__image-info--camera-type, .rtl .newsroom__image-info--availibility,.rtl .newsroom__image-info--camera-type, .rtl .newsroom-mobile-view__image-info--camara-type,.rtl .newsroom__image-info--availibility, .rtl .newsroom-mobile-view__image-info--availibility",
".rtl .stories-carousel-wrapper .stories__image-container-parent .stories__image-info--heading ,.rtl .stories__image-info--success-stories"];for(var b=0;b<a.length;b++)$(a[b]).each(function(a,b){a=(new Dotdotdot(b,{watch:!0})).API;"... "==b.innerText&&a.restore()})}});function isFunction(a){return"function"===typeof a&&"number"!==typeof a.nodeType}
var cnCssSettings=function(){var a=$("html").attr("lang");0<=["zh-CN","zh"].indexOf(a)&&$("head").append('\x3clink rel\x3d"stylesheet" type\x3d"text/css" href\x3d"/etc/clientlibs/it/resources/css/cn.css"\x3e')},backgroundSttings=function(){var a=$("body").attr(768<window.innerWidth?"data-bg":"data-bg-mobile");a?$("body").css("background","url("+a+") no-repeat center/cover"):!1},imgTagLazyLoad=function(){var a=$(".lazy-image");$.each(a,function(a,c){a=$(this).data("src");$(this).attr("src",a)})},imageLazyLoad=
function(){var a=function(a){var b=$(a);b.visible(!0)&&setTimeout(function(){b.find(".lazy").lazyload()},300)},b=function(a,b){a=$(a);768<window.innerWidth?b=a.data("original"):(b=a.data("original-mobile"))||(b=a.data("original"));a.is("div")||a.is("article")?isNull(b)||a.css("background-image",'url("'+b+'")'):a.is("img")&&a.attr("src",b)},c=function(a,d){var f=$(d);$(d).hasClass("webp")?replaceWebpOriginal(d):b(d);d=f.find("[data-original]");$.each(d,function(b,d){c(a,d)})},d=function(a){$(".form-popup").length||
(a='\x3cdiv class\x3d"form-popup"\x3e\x3cdiv class\x3d"popup-wrap"\x3e\x3cdiv class\x3d"popup-card"\x3e\x3cdiv class\x3d"card-top"\x3e\x3cimg src\x3d"/etc/clientlibs/it/resources/images/jingshi.png" alt\x3d""\x3e \x3cspan\x3e'+Granite.I18n.get("Reminder")+':\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"card-middle"\x3e\x3c/div\x3e\x3c/div\x3e\x3cspan class\x3d"card-x card-close"\x3ex\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e',$("body").append(a))},e=function(){var a=$(".form-popup");a.find(".card-x").click(function(){a.hide()})},
f=function(){if(!$(".loading-wrap").length){var a='\x3cdiv class\x3d"loading-wrap"\x3e\x3cdiv class\x3d"loading-box"\x3e\x3cimg src\x3d"/etc/clientlibs/it/resources/images/loading.gif"/\x3e\x3cspan\x3e'+Granite.I18n.get("Loading...")+"\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e";$("body").append(a)}},g=$(".banner-carousel,.thin-banner-carousel .carousel,.new-banner-full");$(document).ready(function(){var b=$(".new-split-banner-container").find(".lazy-banner");$.each(b,function(a,b){a=$(b);768<window.innerWidth?
b=a.data("original"):(b=a.data("original-mobile"))||(b=a.data("original"));a.css("background-image","url('"+b+"')")});$.each($(".rich-text p, .cmp-text p"),function(a,b){""!=$(b).text().trim()&&"\x26nbsp;"!=$(b).text().trim()||$(b).find("img").length||$(b).css({padding:"0px",height:"16px",marginBottom:"0px"})});$.each($(".lazy"),function(){if(!isCN){var a=$(this).data("original");a&&-1<a.indexOf("thumb")&&($(this).hasClass("number-image")?$(this).attr("data-original",a.replace("thumb.1280.1280","thumb.48.48")):
"MOBILE"!=getCurrentBreakPoint()?($(this).hasClass("related-accessories-img")||$(this).hasClass("layout4__image"))&&$(this).attr("data-original",a.replace("thumb.319.319","thumb.140.100")):$(this).hasClass("related-accessories-img")||$(this).hasClass("layout4__image")?$(this).attr("data-original",a.replace("thumb.319.319","thumb.48.48")):$(this).hasClass("img-fluid")?$(this).attr("data-original",a.replace("thumb.319.319","thumb.140.100")):$(this).attr("data-original",a.replace("thumb.1280.1280","thumb.319.319")))}$(this).lazyload({threshold:300,
vertical_only:!0})});b=g.find(".carousel-item.active");$.each(b,function(a,b){$(this).hasClass("webp-lazy")||c($(b).parents(".carousel"),b)});g.on("slide.bs.carousel",function(a){$(a.relatedTarget).hasClass("webp-lazy")||c(this,a.relatedTarget)});$(".lazy-carousel").on("slid.bs.carousel",function(){a(this)});$(".lazy-cycle").on("cycle-after",function(){a(this)});$(".lazy-slick").on("afterChange",function(){a(this)});d();e();f();$.each($(".footer-body a, #header a, .quick-access-wrapper a, .cpp-data-wrapper a ,.document-download a"),
function(){var a=$(this).attr("href")||$(this).attr("data-href");a&&-1<a.indexOf("http")&&0>a.indexOf(window.location.host)&&$(this).attr("rel","noreferer,noopener")})})},xssFilter=function(a){var b={flag:!0,doXssFilter:function(b){var c='[@_!|~`%+\x3d/$%^\x26*{}:;"\\\x3c\x3e?()\uff1f\uff01\uff1a\uff08\uff09]',e=a(event.currentTarget).attr("data-exclude");isNull(e)||(c=c.replace(e,""));return b.replaceAll(new RegExp(c),"")},init:function(){a(".xss-value").on("compositionstart",function(){b.flag=!1}).on("compositionend",
function(){b.flag=!0}).on("input",function(){1==b.flag&&a(this).val(b.doXssFilter(a(this).val()))});a(".xss-email").rules("add",{regex:/^([a-zA-Z0-9_.+-])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,messages:{regex:Granite.I18n.get("Please enter valid email address")}});a(".xss-phone").rules("add",{regex:/^1(3|4|5|6|7|8|9)\d{9}$/,messages:{regex:Granite.I18n.get("Please enter valid phone")}});a(".xss-number").attr("oninput","value\x3dvalue.replace(/[^\\d]/g,'')")}};return b}($),globalSettings=function(a){return{init:function(){cnCssSettings();
backgroundSttings();imageLazyLoad();webpLazyload();a("span.ssolink,a.ssolink").click(function(b){b.preventDefault();b=a(this).attr("href");var c=a(this).attr("target");setLoginCookie("redirectUrl",window.location.href);newWinOpen(b+"\x26referrer\x3d"+window.location.href,c)});a(".banner-link").attr("href","www.hikivision.com")}}}($);$(window).on("scroll",function(){scrollElementSetBackground()});
var newWinOpen=function(a,b){b=b||"_self";var c=document.createElement("a");document.body.appendChild(c);c.href=a;c.target=b;c.click();document.body.removeChild(c)},replaceWebpOriginal=function(a,b){a=$(a);768<window.innerWidth?b=a.data("original"):(b=a.data("original-mobile"))||(b=a.data("original"));a.is("div")||a.is("article")?a.css("background-image",'url("'+b+'")'):a.is("img")&&a.attr("src",b)},scrollElementSetBackground=function(){var a=$(".scroll-lazy-image"),b=$(window).scrollTop(),c=$(window).height();
$.each(a,function(a,e){a=$(this).offset().top;e=$(this).outerHeight(!0);var d=$(this).data("original-mobile")?$(this).data("original-mobile"):$(this).data("original");b>a+e||b<a-c||($(this).hasClass("webp")?replaceWebpOriginal(this):$(this).is("div")?768<window.innerWidth?$(this).css("background-image",'url("'+$(this).data("original")+'")'):$(this).css("background-image",'url("'+d+'")'):$(this).is("img")&&(768<window.innerWidth?$(this).attr("src",$(this).data("original")):$(this).attr("src",d)))});
a=$(".firmware, .firmware-series");$.each(a,function(a,e){a=$(this).offset().top;e=$(this).outerHeight(!0);b>a+e||b<a-c||$(this).addClass("scroll")})},accountLocation=function(a){var b={init:function(a){a&&(a.website?setTimeout(function(){b.ipUIDialog(a.name,a.website,a.displayName);storeManager.cookie.set({name:"ip_expired",value:a.name,expirationDays:1,path:"/"},!0,!1)},6E3):storeManager.cookie.set({name:"ip_expired",value:"",expirationDays:1,path:"/"},!0,!1))},ipUIDialog:function(b,d,e){var c=
Granite.I18n.get("You are visiting the Hikvision"),g=Granite.I18n.get("site"),h=Granite.I18n.get("Click here to visit the Hikvision");e=c+" "+e+" "+g+". ";c=d.split("/");(g=c.pop())||(g=c.pop());var k=window.location.href;c="site_redirect::"+b+"::"+g+"::"+k;b="\x3cdiv class\x3d'ip-wrap'\x3e\x3cdiv class\x3d'ip-box'\x3e\x3cp\x3e"+e+"\x3c/p\x3e\x3cp\x3e"+h+" \x3ca class\x3d'at-navigation' data-at-module\x3d'"+c+"' href\x3d'"+d+"' style\x3d'color:red;font-weight:bold'\x3e"+b+" \x3ca style\x3d'position:relative;top:1px;left:5px;color:red'\x3e\x3e\x3c/a\x3e\x3c/a\x3e\x3c/p\x3e\x3cspan class\x3d'cha at-action' data-at-module\x3d'"+
d+"::close'\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e";a("body").append(b);a(".cha").on("click",function(b){a(".ip-wrap").remove();atModel.doAtEvent("site_redirect::close::"+k,"action",b)});b=a(".ip-wrap .ip-box a.at-navigation");setJumpEventForBuryPointNode(b,d,c)}};return b}($);function JudgeWebLanguage(a){a=eval("/"+a+"/g");var b=window.location.pathname.substr(1);return a.test(b)?!0:!1}
function setJumpEventForBuryPointNode(a,b,c){a.on("click",function(a){a.preventDefault();c&&atModel.doAtEvent(c,"navigation",a);setTimeout(function(){location.href=b},1E3)})}
function webpLazyload(a){$(".webp-lazy:nth-of-type(1) picture").show();$.each($(".webp-lazy:nth-of-type(1)").find("source"),function(){$(this).attr("srcset",$(this).attr("data-srcset"))});if(!$(".webp-lazy:nth-of-type(1) picture img").length){a=$(".webp-lazy:nth-of-type(1) picture").attr("data-src");var b=$(".webp-lazy:nth-of-type(1) picture").attr("data-mob-src");"MOBILE"!==getCurrentBreakpoint()?$(".webp-lazy:nth-of-type(1) picture").append("\x3cimg decoding\x3d'async' src\x3d'"+a+"' /\x3e "):$(".webp-lazy:nth-of-type(1) picture").append("\x3cimg decoding\x3d'async' src\x3d'"+
b+"' /\x3e ")}$(".webp-lazy").parent().parent().on("slide.bs.carousel",function(a){$(a.relatedTarget).find("source").attr("srcset")||$.each($(a.relatedTarget).find("source"),function(){$(this).attr("srcset",$(this).attr("data-srcset"))});var b=$(a.relatedTarget).find("picture").attr("data-src"),c=$(a.relatedTarget).find("picture").attr("data-mob-src");$(a.relatedTarget).find("img").length||("MOBILE"!==getCurrentBreakpoint()?$(a.relatedTarget).find("picture").append("\x3cimg decoding\x3d'async' src\x3d'"+
b+"' /\x3e"):$(a.relatedTarget).find("picture").append("\x3cimg decoding\x3d'async' src\x3d'"+c+"' /\x3e"))})}
(function(){var a=$('meta[name\x3d"template"]').attr("content"),b=["success-story-page","news-page","event-page"];-1<b.indexOf(a)&&992<=window.innerWidth&&$(".hiknow-video.aem-GridColumn:not(.aem-GridColumn--default--none)").css("cssText","width:50% !important;margin:0 auto;padding:0 0px;box-sizing:border-box;float:none !important");-1<b.indexOf(a)&&992>window.innerWidth&&$(".hiknow-video.aem-GridColumn:not(.aem-GridColumn--default--none)").css("cssText","width:100% !important;padding:0 15px;");-1<
b.indexOf(a)&&($(".rte").addClass("rte-width-80"),$(".image").addClass("default-width-6C"),$(".image.fixed-width-container").first().addClass("first-image"))})();
JudgeWebLanguage("cn")&&($(".hiknow-rte a,.card-gallery a, .rte p a").addClass("ret-a-colorDown"),$(".hiknow-rte a,.card-gallery a, .rte p a").hover(function(){$(this).addClass("ret-a-colorUp")},function(){$(this).addClass("ret-a-colorDown").removeClass("ret-a-colorUp")}),$(".description-wrapper").find("h1").addClass("cn-h1"),$(".description-wrapper").find("h2").addClass("cn-h2"),$(".description-wrapper").find("h3").addClass("cn-h3"),$(".description-wrapper").find("h4").addClass("cn-h4"),$(".rte").find("h4").addClass("cn-h4"));
globalSettings.init();var getParameterArr=function(a){a=a.split("\x26");for(var b={},c=0;c<a.length;c++){var d=a[c].split("\x3d");b[d[0]]=d[1]}return b};function setLoginCookie(a,b){document.cookie=a+"\x3d"+b+";path\x3d/;domain\x3d.hikvision.com"}function setSubmittedPageUrlCookie(a){setLoginCookie(a,window.location.href)}
var getLoginCookie=function(a){for(var b=document.cookie.replace(/\s/g,"").split(";"),c=0;c<b.length;c++){var d=b[c].split("\x3d");if(d[0]==a)return d[1]}},removeLoginCookie=function(a){var b=new Date;b.setDate((new Date).getDate()-1);document.cookie=a+"\x3d;expires\x3d"+b+";path\x3d/;domain\x3d.hikvision.com"},getServiceUrl=function(){var a="",b;if(b=0<$(".login-btn.new-login").length?$(".login-btn.new-login").attr("data-login-url"):0<$("a.login").length?$("a.login").attr("href"):0<$("div.login").length?
$("div.login").attr("data-login-url"):$("meta[name\x3dloginInfo]").attr("link"))b=b.substring(b.indexOf("?")+1,b.length),b=getParameterArr(b),b.hasOwnProperty("service")&&(a=b.service);return a},loginUtil=function(a){function b(){removeLoginCookie("ticket");removeLoginCookie("redirectUrl");removeLoginCookie("HIKID");removeLoginCookie("HIKUSERID");removeLoginCookie("HIKUSERNAME");removeLoginCookie("HIKEMAIL");removeLoginCookie("HIKROLE");removeLoginCookie("SourceSystem");removeLoginCookie("hik-login-user")}
var c={},d=window.location.href;c.init=function(){var a=-1<d.indexOf("/login");"cn"===parseSiteFromUrl()?(-1<window.location.search.indexOf("ticket\x3d")||-1<window.location.search.indexOf("t\x3d"))&&window.history&&window.history.replaceState(null,"",window.location.href.split("?")[0]):a?c.loginSuccess():getLoginCookie("ticket")?(c.notEditorOrPreviewMode()&&c.checkLogin(),c.loginBtnHandler()):c.loginHandler()};c.loginSuccess=function(){var b=d.substring(d.indexOf("?")+1,d.length);b=getParameterArr(b);
b.hasOwnProperty("ticket")&&(setLoginCookie("ticket",b.ticket),(b=a.cookie("redirectUrl"))||(b=0<d.indexOf("hikvision")?d.substring(0,d.indexOf("sso")):d.substring(0,d.indexOf("?"))),c.checkLogin(b))};c.checkUserType=function(b){b||(b=a(".needLogin").attr("data-page-path"));var c=a.cookie("HIKID"),f=a.cookie("HIKEMAIL");try{c=atob(c),f=atob(f)}catch(k){console.log("Login Error:"+k)}b&&a.ajax({type:"GET",url:"/content/hikvision/en/jcr:content/header.usertype.json",data:{currentPagePath:b,hikId:c,hikEmail:f,
timestamp:(new Date).getTime()},success:function(c){c="string"==typeof c?JSON.parse(c):c;403==c.code&&c.redirectionUrl?window.location.href=c.redirectionUrl+"?applyPath\x3d"+b:-1<d.indexOf("/login")?window.location.href=b:a(".root.responsivegrid").parent().show()}})};c.isShowroom=function(){var a=getLoginCookie("showroom-home-page");return a&&0!==a.length?!0:(getLoginCookie("showroom-landing-page"),!1)};c.checkLogin=function(b){var d=getLoginCookie("ticket"),f=getServiceUrl();if(d&&f){var e="";a.ajax({type:"GET",
url:"/content/hikvision/en/jcr:content/header.json",data:{service:f,ticket:d},success:function(d){d=d.code;500===d?(c.loginHandler(),c.displayLogin(!1,e)):200===d&&(e=c.getEncryptCookie("HIKUSERNAME"),c.displayLogin(!0,e),c.checkAccountType(),a("meta[name\x3dloginInfo]").attr("content")?c.checkUserType(b):(a(".root.responsivegrid").parent().show(),b&&("string"===typeof b?window.location.href=b:b())))},error:function(a){console.log("check sso ticket servlet has error, please get more message in the log");
c.loginHandler();c.displayLogin(!1,e)}})}};c.checkAccountType=function(){if("Global"===c.getEncryptCookie("SourceSystem")){var b=c.getEncryptCookie("HIKID");a.ajax({url:"/bin/hikvision/login",type:"GET",data:{businessType:"accountType",hikId:b}}).done(function(b){if(b){var c=new Date;c.setTime(c.getTime()+18E5);a.cookie("accountType",b,{expires:c})}else console.warn("AccountType is empty.")}).fail(function(a,b){console.log("Request Failed: "+b)})}};c.getEncryptCookie=function(a){var b=getLoginCookie(a);
try{b=decodeURIComponent(escape(window.atob(b)))}catch(h){console.log("getEncryptCookie Error:"+a+h)}return b};c.displayLogin=function(b,c){b?(a(".header-wrapper .login").hide(),a(".header-wrapper .login-username").show(),a("#login-btn-wrap").hide(),a("#user-name-wrap").show(),e()):(a(".header-wrapper .login").show(),a(".header-wrapper .login-username").hide(),a("#login-btn-wrap").show(),a("#user-name-wrap").hide());a(".login-username").find(".link-username").text(c);a(".login-username").find(".link-username").attr("title",
c);a(".login-username").find(".link-drp").attr("title",c);a("#user-name-wrap").find(".user-logo-name").text(c);a("#user-name-wrap").find(".user-logo-name").attr("title",c);storeManager.cookieDisclaimerUtil.cleanCategoryCookies()};c.displayCnLogin=function(b,c){b?(a(".login-username-dropdown.ul-dropdown.login").show(),a(".login-username-dropdown.ul-dropdown.no-login").hide(),a(".nav-left-item.login-username").addClass("logined"),a(".mobile-nav-right-menu").find(".login-li.login").show(),a(".mobile-nav-right-menu").find(".login-li.no-login").hide(),
a(".login-username-dropdown.ul-dropdown.login .user-profile").find("a").text(c),a(".login-username-dropdown.ul-dropdown.login .user-profile").find("a").attr("title",c),a(".mobile-nav-right-menu").find(".hik-username").text(c)):(a(".login-username-dropdown.ul-dropdown.login").hide(),a(".login-username-dropdown.ul-dropdown.no-login").show(),a(".nav-left-item.login-username").removeClass("logined"),a(".mobile-nav-right-menu").find(".login-li.login").hide(),a(".mobile-nav-right-menu").find(".login-li.no-login").show())};
c.loginHandler=function(){var d=a("meta[name\x3dloginInfo]"),e=d.attr("content"),h=d.attr("value");0==d.length&&(h=0<a(".needLogin").length);d=c.notEditorOrPreviewMode();h&&void 0===e?d&&loginUtil.loginModalLoginBtnClick():h&&void 0!==e?d&&loginUtil.popupLoginConfirmModal():(c.loginBtnHandler(),b())};c.notEditorOrPreviewMode=function(){var a=c.getRunMode();return"edit"!==a&&"preview"!==a};c.getRunMode=function(){return getLoginCookie("wcmmode")};var e=function(){a(".login-username .link-drp").unbind("click").click(function(b){b.stopPropagation();
a(this).siblings(".login-username-dropdown").toggle();a(this).siblings(".fa-caret-right").toggleClass("dropdown-open-caret");a(this).toggleClass("dropdown-open");a(".login-username").parent("login").addClass("hover")});a(document).click(function(){a(".login-username .link-drp").removeClass("dropdown-open");a(".login-username").parent("login").removeClass("hover")})};c.requestServerData=function(b,c,d,e,l){a.ajax({type:b,url:c,data:d,dataType:"json",success:function(a){e(a)},error:function(){l()}})};
c.loginBtnHandler=function(){a(".link-logout, .logout").unbind("click").on("click",function(){b()});a(".login-btn").unbind("click").on("click",function(){setLoginCookie("redirectUrl",d)});a(".new-login").unbind("click").on("click",function(){setLoginCookie("redirectUrl",d)});a(".login-btn-mobile").unbind("click").on("click",function(){setLoginCookie("redirectUrl",d)});a(".login-btn .link").unbind("click").on("click",function(b){var c=window.location.origin+a(this).attr("data-link");setLoginCookie("redirectUrl",
c);b.stopPropagation()})};c.loginModalLoginBtnClick=function(){setLoginCookie("redirectUrl",window.location.href);var b=0<a("a.login, span.login").length?a(".new-login").length?a(".login-btn.new-login ").attr("data-login-url")||a("span.new-login.link").attr("href"):0<a("a.new-header-login").length?a("a.new-header-login").attr("data-href"):a("a.login").attr("href"):0<a("a.new-header-login").length?a("a.new-header-login").attr("data-href"):0<a("div.login").length?a("div.login").attr("data-login-url"):
a("meta[name\x3dloginInfo]").attr("link");b+="\x26referrer\x3d"+window.location.href;var c=a(".new-header-login").attr("data-path");c&&(b=c);window.location.href=b};c.popupLoginConfirmModal=function(){1>a(".login-required-comp").length?a(document).ready(function(){a(".login-required-comp").show();a("body").addClass("overflow-hidden")}):(a(".login-required-comp").show(),a("body").addClass("overflow-hidden"))};c.hideLoginConfirmModal=function(){var b=a(".needLogin").attr("data-userType");0<a(".needLogin").length&&
void 0!=b?(b=a(".needLogin").attr("data-redirectionUrl"),window.location.href=b):(a(".login-required-comp").hide(),a(".login-required-comp-cn").hide(),a("body").removeClass("overflow-hidden"))};c.autoFillUserInfoInForm=function(b,c,d){var e=getLoginCookie("HIKID");try{e=atob(e)}catch(t){console.log("Login Error:"+t)}e=a.extend({},{hikId:e},{ticket:getLoginCookie("ticket"),service:getServiceUrl()});var f=window.location.pathname.replace(".html",".getUserInfo.json");0>f.indexOf("/content/hikvision")&&
(f="/content/hikvision"+f);a.ajax({type:"GET",url:f,data:e,dataType:"json",success:function(a){0==a.data.code&&b(a.data.data,c,d)},error:function(){console.log("get user info by hikId failed");console.log("get user info by hikId failed")}})};return c}($);loginUtil.init();
var hikPlayer=function(a){var b={Plyr:{plyrPlayer:null,plyrContainerId:null,plyrContainer:null,videoPath:null,config:{checkLogin:!1,videoPath:null,internalVideo:!1,ezvizVideo:!1,plyrProvider:null,videoType:null,showType:null,autoplay:!0,youtubeSdk:!1,vimeoSdk:!1,defaultVolume:.2,poster:null},initForNoModalType:function(){document.querySelector(".hik-video-wrapper")&&a(".hik-video-wrapper").each(function(){var c=a(this),d=null;(function(){var e=b.Plyr.getTargetConfig(c);b.Plyr.config.autoplay=!1;b.Plyr.config=
a.extend(b.Plyr.config,e);e=a.extend(b.Plyr.config,b.Plyr.getPlyrConfig(b.Plyr.config));var f="true"!==e.internalVideo,g=a('\x3cdiv id\x3d"video-player-container"\x3e\x3c/div\x3e');c.append(g);f?(f=-1!==e.videoPath.indexOf("v\x3d")?b.Plyr.getVideoId(e.videoPath,"v"):e.videoPath.slice(e.videoPath.lastIndexOf("/")+1,e.videoPath.length+1),f=a("\x3cdiv/\x3e",{class:"video-youtube-wrap","data-plyr-provider":"youtube","data-plyr-embed-id":f}),g.append(f),d=new Plyr(f,{autoplay:!!e.autoplay,youtube:{rel:0,
noCookie:!0}})):(b.Plyr.plyrContainer=b.Plyr.createPlyrContainer("video-player-container",e,g),d=new Plyr(c.find(f?"#video-container-youtube":"#video-container"),{controls:"play play-large progress current-time mute captions settings volume fullscreen".split(" ")}));d.muted=!!b.Plyr.config.autoplay;if(b.Plyr.config.autoplay)a(window).on("scroll",function(){b.Plyr.visualVideo(d)})})()})},init:function(){if(document.querySelector(".hik-video-trigger"))a(".hik-video-trigger").unbind("click").on("click",
function(c){c.preventDefault();var d=a(this);c=d.attr("id");var e=b.Plyr.getTargetConfig(d);b.Plyr.config=a.extend(b.Plyr.config,e);"true"===b.Plyr.config.checkLogin?(c=getLoginCookie("ticket"))&&"123"!==c?loginUtil.checkLogin(function(){if(isNull(b.Plyr.config.videoPath)){var c=d.attr("data-resource");a.ajax({type:"GET",url:c+".json",dataType:"json",success:function(a){b.Plyr.config.videoPath=a.videoPath;b.Plyr.config.videoPath&&!isNull(b.Plyr.config.videoPath.trim())&&setTimeout(function(){b.Plyr.playModal(b.Plyr.config)},
30)},error:function(){console.log("Video info get failed")}})}else setTimeout(function(){b.Plyr.playModal(b.Plyr.config)},30)}):loginUtil.popupLoginConfirmModal():isNull(b.Plyr.config.videoPath)||("modal"===b.Plyr.config.showType?b.Plyr.playModal(b.Plyr.config):"default"===b.Plyr.config.showType?(c||(c="hiknow-video-container"),b.Plyr.play(c,b.Plyr.config)):b.Plyr.playModal(b.Plyr.config));a(this).unbind()})},visualVideo:function(b,d){b.elements&&(d=(b.elements.captions?a(b.elements.captions).parent():
a(b.elements.wrapper)).offset().top,d>=a(window).scrollTop()&&d<a(window).scrollTop()+a(window).height()?b.play():b.pause(),window.myPlayer=b)},getTargetConfig:function(a){var b={};a[0].hasAttribute("data-config")?b=JSON.parse(a.attr("data-config")):(b.checkLogin=a.attr("data-check-login"),b.videoPath=a.attr("data-video-path"),b.internalVideo=a.attr("data-internal-video"),b.ezvizVideo=a.attr("data-ezviz-video"),b.showType=a.attr("data-show-type"),b.plyrProvider="youtube",b.videoType="video/mp4",a[0].hasAttribute("data-autoplay")&&
(b.autoplay="true"===a.attr("data-autoplay").toLowerCase()),b.poster=a.attr("data-poster"));return b},initVideoModal:function(){a("body").append('\x3cdiv class\x3d"modal fade video" id\x3d"hik-video" tabindex\x3d"-1" role\x3d"dialog" aria-hidden\x3d"true"\x3e \x3cdiv class\x3d"modal-dialog modal-lg modal-dialog-centered"\x3e   \x3cdiv class\x3d"modal-content"\x3e     \x3cdiv class\x3d"modal-header"\x3e\x3cbutton class\x3d"close" type\x3d"button" data-dismiss\x3d"modal" aria-label\x3d"Close"\x3e\x3cspan aria-hidden\x3d"true"\x3e\x3cimg src\x3d"/etc/clientlibs/it/resources/icons/icon-close-white.svg"/\x3e\x3c/span\x3e\x3c/button\x3e\x3c/div\x3e     \x3cdiv class\x3d"modal-body"\x3e       \x3cdiv class\x3d"video-wrapper" id\x3d"modal-video-container" data-autoplay\x3d"true"\x3e       \x3c/div\x3e     \x3c/div\x3e   \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e');
a("#hik-video").find(".close").on("click",function(){b.Plyr.init();hikPlayer.Plyr.initForNoModalType()})},createPlyrContainer:function(c,d,e){e=e||a("#"+c);if("true"===d.ezvizVideo){var f=a("\x3ciframe/\x3e",{id:"video-container",width:"100%",height:"100%",src:d.videoPath,allowfullscreen:"true",webkitallowfullscreen:"true",mozallowfullscreen:"true",class:"ezviz-video-container",autoplay:d.autoplay});e.empty();e.html(f)}else if("true"===d.internalVideo)f=a("\x3cvideo/\x3e",{id:"video-container",playsinline:"",
class:"video-container video-player common-internal-video-container",poster:d.poster,autoplay:d.autoplay,muted:!!d.autoplay}),f.append(a('\x3csource src\x3d"'+d.videoPath+'" type\x3d"'+d.videoType+'"/\x3e')),f.append(a(' \x3cnoscript className\x3d"loading-lazy"\x3e\x3cimg src\x3d"/etc/clientlibs/it/resources/images/59C12F6D.jpg" loading\x3d"lazy"className\x3d"static-device animated-videos" alt\x3d"Landing Animation Video"/\x3e\x3c/noscript\x3e')),e.empty(),e.html(f);else{f=-1!==d.videoPath.indexOf("v\x3d")?
b.Plyr.getVideoId(d.videoPath,"v"):d.videoPath.slice(d.videoPath.lastIndexOf("/"),d.videoPath.length+1);f=a("\x3ciframe/\x3e",{id:"video-container-youtube",width:"100%",src:"https://www.youtube-nocookie.com/embed/"+f+"?rel\x3d0\x26autoplay\x3d"+Number(d.autoplay)+"\x26controls\x3d1",allowfullscreen:"true",webkitallowfullscreen:"true",mozallowfullscreen:"true",class:"video-container common-video-container",autoplay:d.autoplay,frameborder:0});e.empty();var g=a("\x3cdiv/\x3e",{class:"video-youtube-wrap"});
g.append(f);e.html(g)}b.Plyr.plyrContainerId=c;b.Plyr.plyrContainer=e;b.Plyr.videoPath=d.videoPath;return e},getVideoId:function(a,b){if(!a)return"";b=new RegExp("(^|\x26)"+b+"\x3d([^\x26]*)(\x26|$)","i");var c=a.indexOf("?");a=a.slice(c+1,a.length).substr(0).match(b);return null!=a?unescape(a[2]):""},changePlyrVideoPath:function(a){b.Plyr.plyrPlayer[0].source="true"===a.ezvizVideo?a.videoPath:"true"===a.internalVideo?{type:"video",sources:[{src:a.videoPath,type:a.videoType}]}:{type:"video",sources:[{src:a.videoPath,
provider:a.plyrProvider}]};b.Plyr.videoPath=a.videoPath},play:function(a,d){b.Plyr.plyrContainerId?b.Plyr.plyrContainerId!==a?(b.Plyr.plyrContainer=b.Plyr.createPlyrContainer(a,d),b.Plyr.plyrPlayer=Plyr.setup("#video-container",b.Plyr.getPlyrConfig(d))):b.Plyr.videoPath!==d.videoPath&&b.Plyr.changePlyrVideoPath(d):(b.Plyr.plyrContainer=b.Plyr.createPlyrContainer(a,d),b.Plyr.plyrPlayer=Plyr.setup("#video-container",b.Plyr.getPlyrConfig(d)));d.autoplay&&b.Plyr.plyrPlayer[0].play()},playModal:function(c){if(!b.Plyr.plyrContainerId){if(b.Plyr.initVideoModal(),
b.Plyr.plyrContainer=b.Plyr.createPlyrContainer("modal-video-container",c),b.Plyr.plyrPlayer=Plyr.setup("#video-container",b.Plyr.getPlyrConfig(c)),Plyr)a("#hik-video").on("hidden.bs.modal",function(a){b.Plyr.plyrPlayer&&0<b.Plyr.plyrPlayer.length&&b.Plyr.plyrPlayer[0].stop()})}else if(b.Plyr.videoPath!==c.videoPath&&-1===c.videoPath.indexOf("youtu")){b.Plyr.initVideoModal();b.Plyr.plyrContainer=b.Plyr.createPlyrContainer("modal-video-container",c);b.Plyr.plyrPlayer=Plyr.setup("#video-container",
b.Plyr.getPlyrConfig(c));if(Plyr)a("#hik-video").on("hidden.bs.modal",function(a){b.Plyr.plyrPlayer&&0<b.Plyr.plyrPlayer.length&&b.Plyr.plyrPlayer[0].stop()});b.Plyr.changePlyrVideoPath(c)}if(-1!==c.videoPath.indexOf("youtu")&&(b.Plyr.initVideoModal(),b.Plyr.plyrContainer=b.Plyr.createPlyrContainer("modal-video-container",c),b.Plyr.plyrPlayer=Plyr.setup("#video-container-youtube",b.Plyr.getPlyrConfig(c)),setTimeout(function(){a("#video-container-youtube").contents().find(".ytp-chrome-top-buttons").hide()},
1E3),Plyr))a("#hik-video").on("hidden.bs.modal",function(b){a("#video-container-youtube").remove()});a("#hik-video").modal("toggle");c.autoplay&&-1===c.videoPath.indexOf("youtu")&&b.Plyr.plyrPlayer[0].play()},playYoutube:function(a,d){var c=b.Plyr.getDefaultConfig();c.videoPath=a;c.showModal=d;c.plyrProvider="youtube";d?b.Plyr.playModal(c):(b.Plyr.plyrContainerId||(b.Plyr.plyrContainerId="hiknow-video-container"),b.Plyr.play(b.Plyr.plyrContainerId,c))},playInternal:function(a,d,e){var c=b.Plyr.getDefaultConfig();
c.internalVideo=!0;c.videoPath=a;c.showModal=e;c.videoType=d;e?b.Plyr.playModal(c):(b.Plyr.plyrContainerId||(b.Plyr.plyrContainerId="hiknow-video-container"),b.Plyr.play(b.Plyr.plyrContainerId,c))},playEzviz:function(a,d){var c=b.Plyr.getDefaultConfig();c.ezvizVideo=!0;c.videoPath=a;(c.showModal=d)?b.Plyr.playModal(c):(b.Plyr.plyrContainerId||(b.Plyr.plyrContainerId="hiknow-video-container"),b.Plyr.play(b.Plyr.plyrContainerId,c))},createPlyr:function(a,d){Plyr&&(b.Plyr.plyrPlayer=d?new Plyr(a,d):
new Plyr(a,b.Plyr.getPlyrConfig(d)),b.Plyr.plyrPlayer.on("ready",function(){b.Plyr.plyrPlayer.autoplay=d.autoplay;b.Plyr.plyrPlayer.poster=d.poster;b.Plyr.plyrPlayer.volume=d.autoplay?0:d.defaultVolume}))},getPlyrConfig:function(a){return{controls:"play-large play volume mute current-time duration progress fullscreen".split(" "),autoplay:a.autoplay,poster:a.poster,volume:a.autoplay?0:a.defaultVolume}},getDefaultConfig:function(){return{checkLogin:!1,videoPath:null,internalVideo:!1,ezvizVideo:!1,plyrProvider:null,
videoType:null,showType:null,autoplay:!0,youtubeSdk:!1,vimeoSdk:!1,defaultVolume:.2,poster:null}}}};return b}($);
(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):"object"===typeof exports?module.exports=a(require("jquery")):a(jQuery)})(function(a){function b(a){a=e.json?JSON.stringify(a):String(a);return e.raw?a:encodeURIComponent(a)}function c(b,c){if(e.raw)var f=b;else a:{0===b.indexOf('"')&&(b=b.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{b=decodeURIComponent(b.replace(d," "));f=e.json?JSON.parse(b):b;break a}catch(k){}f=void 0}return a.isFunction(c)?c(f):f}var d=/\+/g,
e=a.cookie=function(d,g,h){if(1<arguments.length&&!a.isFunction(g)){h=a.extend({},e.defaults,h);if("number"===typeof h.expires){var f=h.expires,l=h.expires=new Date;l.setMilliseconds(l.getMilliseconds()+864E5*f)}return document.cookie=[e.raw?d:encodeURIComponent(d),"\x3d",b(g),h.expires?"; expires\x3d"+h.expires.toUTCString():"",h.path?"; path\x3d"+h.path:"",h.domain?"; domain\x3d"+h.domain:"",h.secure?"; secure":""].join("")}f=d?void 0:{};l=document.cookie?document.cookie.split("; "):[];for(var t=
0,x=l.length;t<x;t++){var n=l[t].split("\x3d");var u=n.shift();u=e.raw?u:decodeURIComponent(u);n=n.join("\x3d");if(d===u){f=c(n,g);break}d||void 0===(n=c(n))||(f[u]=n)}return f};e.defaults={};a.removeCookie=function(b,c){a.cookie(b,"",a.extend({},c,{expires:-1}));return!a.cookie(b)}});
var vendorLibs=function(a){function b(){var a=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;a=Math.floor(a/16);return("x"==b?c:c&3|8).toString(16)})}function c(b){var c=a("sign-hidden");c&&0<c.length&&b&&(c.find("input[name\x3d'app-id']").val(b.appId),c.find("input[name\x3d'access-token']").val(b.accessToken),c.find("input[name\x3d'timestamp']").val(b.timestamp),c.find("input[name\x3d'Referer']").val(b.referer))}function d(c,
d){a.ajax({type:"GET",url:c+".location.json?uuid\x3d"+(null!=atModel.clientId?atModel.clientId:b()),success:function(a){a&&a.location&&d&&d.init(a.location)}})}return{init:function(){a(document).ready(function(){var b=a(".gdpr-wrapper").attr("data-lib-list");b&&"undefined"!==b&&a.ajax({type:"GET",url:b+".footer.json",success:function(e){e&&e.sign&&c(e.sign);if(e&&e.vendorLibs){var f=storeManager.cookie.get(storeManager.STORE_NAMES.cookieDisclaimer);0>window.location.href.indexOf("/cn")&&("0"===f||
"true"!==e.disableCookie)&&null===storeManager.cookie.get("ip_expired")&&d(b,accountLocation);a("#vendor-lib-footer-content").empty();e.vendorLibs.forEach(function(b){if(storeManager.cookieDisclaimerUtil.checkCategory(b.vendorLibCategory,e.disableCookie))if(b=JSON.parse(JSON.stringify(b)),0<=b.vendorLibScript.toLowerCase().indexOf("\x3cnoscript\x3e")){var c=b.vendorLibScript.substring(b.vendorLibScript.indexOf("\x3cnoscript\x3e"),b.vendorLibScript.indexOf("\x3c/noscript\x3e"));b="\x3c!-- "+b.vendorLibName+
" --\x3e"+a(c).html()+"\x3c!-- end "+b.vendorLibName+" --\x3e";b=a("\x3cnoscript\x3e\x3c/noscript\x3e").append(b);a("#vendor-lib-footer-content").append(b)}else b="\x3c!-- "+b.vendorLibName+" --\x3e"+b.vendorLibScript+"\x3c!-- end "+b.vendorLibName+" --\x3e",a("#vendor-lib-footer-content").append(b);else storeManager.cookieDisclaimerUtil.cleanCookies(b.vendorLibCategory)})}}})})}}}($);
(function(a,b){b(a).ready(function(){a.onreadystatechange=function(){"complete"==a.readyState&&(xssFilter&&xssFilter.init(),atModel&&atModel.initAtEvent(),hikPlayer&&hikPlayer.Plyr&&(hikPlayer.Plyr.init(),hikPlayer.Plyr.initForNoModalType()),vendorLibs&&vendorLibs.init())}})})(document,$);
function refreshVerification(){if($(".verification img").hasClass("cn-verification")){var a=$(".verification img").data("src")+"\x26k\x3d"+(new Date).getTime(),b=getVerificationHeader();doAjaxWithDataType("GET",a,null,"json","application/json",!1,b,function(a){a&&a.data&&($(".verification img").attr("src",a.data.image),storeManager.cookie.set({name:"KAPTCHA_SESSION_KEY",value:a.data.id,path:"/",expirationDays:1/144},!0))})}else $(".verification img").attr("src","/bin/hikvision/kaptcha.jpg?k\x3d"+
(new Date).getTime())}function getVerificationHeader(){var a=[],b=$("#enquiry-form").parent().find(".verification-hidden");0<b.length&&$(b).each(function(){var b={key:$(this).attr("name"),value:$(this).val()};a.push(b)});return a}function getAndStorage(a,b,c,d){var e=storeManager.sessionStorage;"local"===c&&(e=storeManager.localStorage);var f=e.get(b);f?d&&d(f):$.ajax({type:"GET",url:a,success:function(a){checkResultSuccess(a)&&(f=eval(a.data),e.set({name:b,value:f}),d&&d(f))}});return f}
function getAndConcatStorage(a,b,c,d,e){var f=storeManager.sessionStorage;"local"===d&&(f=storeManager.localStorage);var g=f.get(b),h;g&&0<g.length&&(h=b===storeManager.STORE_NAMES.suggestDisclaimer?g.filter(function(a){return a.countryCode===c}):globalPcd.filterSelectData(g,regionLever.country,"code",c));h&&0<h.length?e&&e(h):$.ajax({type:"GET",url:a,success:function(a){if(checkResultSuccess(a)){var c=eval(a.data);(g=f.get(b))||(g=[]);g=g.concat(eval(a.data));f.set({name:b,value:g});e&&e(c)}}})}
function doAjax(a,b,c,d,e,f,g,h){$(".loading-wrap").show();$.ajax({type:a,url:b,data:c,beforeSend:function(a){f&&$(f).each(function(b,c){a.setRequestHeader(c.key,c.value)});a.setRequestHeader("KAPTCHA_SESSION_KEY",storeManager.cookie.get("KAPTCHA_SESSION_KEY"))},contentType:d,processData:e}).done(function(a){setTimeout(function(){$(".loading-wrap").hide();0<=b.indexOf("formType\x3dOA")?g(a):handleDone(g,a,h)},500)}).fail(function(a){setTimeout(function(){$(".loading-wrap").hide();0<=b.indexOf("formType\x3dTraining")?
"Failed"===a.responseJSON.message?h?$(".form-popup").show():showFormError("Sorry, this email has been registered. Please try another email."):handleFail(a):handleFail(a)},500)}).complete(function(a,b){setTimeout(function(){$(".loading-wrap").hide()},500);handleComplete();$(".verification img").hasClass("cn-verification")||refreshVerification()})}
function doAjaxWithDataType(a,b,c,d,e,f,g,h){$.ajax({type:a,url:b,data:c,beforeSend:function(a){g&&$(g).each(function(b,c){a.setRequestHeader(c.key,c.value)});a.setRequestHeader("KAPTCHA_SESSION_KEY",storeManager.cookie.get("KAPTCHA_SESSION_KEY"))},dataType:d,contentType:e,processData:f}).done(function(a){handleDone(h,a)}).fail(function(a){handleFail(a)}).complete(function(a,b){$(".verification img").hasClass("cn-verification")||refreshVerification();c?handleComplete():!1})}
function createFormErrorDialog(a){a='\x3cdiv class\x3d"alert-cmp-container" id\x3d"error-msg-box" title\x3d"'+("success"==a?"Success":"Message")+'"\x3e    \x3cdiv class\x3d"alert-container"\x3e        \x3cdiv class\x3d"alert-main-cont"\x3e        \x3c/div\x3e        \x3cdiv class\x3d"alert-text-cont"\x3e            \x3cp id\x3d"alert-error-msg"\x3e\x3c/p\x3e        \x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e';$("body").append(a)}
function showFormError(a){if(a&&a.startsWith("Please check the full name or use Authorised Partner ID to search again."))displayBusinesMsg(a);else if("Invalid verification code."===a||"\u65e0\u6548\u7684\u9a8c\u8bc1\u7801"===a){a=$(".verification input[name\x3dVerification], .verification input[name\x3dverification], .email-code-group input[name\x3demailVerification]");a.focus();a.addClass("has-error");var b=a.siblings("img");0==b.length&&(b=a);a.siblings("br,em").remove();$('\x3cbr\x3e\x3cem id\x3d"Verification-error" class\x3d"error help-block other-error"\x3e'+
Granite.I18n.get("Invalid verification code.")+"\x3c/em\x3e").insertAfter(b[0]);$(".cn-verification").length&&$(".cn-verification").trigger("click")}else"400:Please use Authorised Partner ID to search again."===a?(a=$("form input[name\x3dpartnerID]"),a.focus(),a.addClass("has-error"),a.siblings("em").remove(),b=Granite.I18n.get("Invalid Partner ID, please check again."),$('\x3cem id\x3d"partnerID-error" class\x3d"error help-block other-error"\x3e'+b+"\x3c/em\x3e").insertAfter(a),$(".vasp-inquiry-form").append('\x3cdiv class\x3d"invalid-popup"\x3e\x3cdiv class\x3d"text"\x3e'+
b+"\x3c/div\x3e\x3c/div\x3e"),setTimeout(function(){$(".vasp-inquiry-form .invalid-popup").length&&$(".vasp-inquiry-form .invalid-popup").remove()},3E3)):"re-subscribe"===a?$(".form-popup").show():showDialogMsg(a)}
function showDialogMsg(a,b){a=Granite.I18n.get(a);if(0!=$(".software-apply-trial-popup").length)$(".form-popup").show().find(".card-middle").html(Granite.I18n.get(a));else{var c=$("#error-msg-box");c&&0!==c.length||(createFormErrorDialog(b),c=$("#error-msg-box"));$("#alert-error-msg").html(a);c.dialog({width:"auto",maxWidth:1024,modal:!0,fluid:!0,resizable:!1})}}
function displayBusinesMsg(a){(a=Granite.I18n.get(a))&&(a=a.replace("Error! ",""));var b=$("#error-msg-box");b&&0!==b.length||(createFormErrorDialog(),b=$("#error-msg-box"));var c=$(".result");$("#alert-error-msg").html(a);$(".layout1-wrapper").remove();c&&c.append(b);b.show();a=$(".wholesaler .result");0<a.length&&(a.show(),$("html, body").animate({scrollTop:a.offset().top-80},200),a.focus())}
function showSubmitLoading(a,b){a&&(b?(a.addClass("loading"),a.attr("disabled","disabled")):(a.removeClass("loading"),a.removeAttr("disabled",!1)))}function handleDone(a,b,c){if(a)if(checkResultSuccess(b)){var d=b;b.data&&(d=b.data);a(d)}else $(".vasp-inquiry-result .result-container").hide(),b.failMsgType?showFormError(b.failMsgType):showFormError(b.message);else d=b,b.data&&(d=b.data),handleAjaxResult(d,c)}
function checkResultSuccess(a){return 200===a.status||0===a.code||"000000"===a.code||"0000"===a.code||200===a.code||a.message&&"success"===a.message.toLowerCase()}function handleAjaxResult(a,b){checkResultSuccess(a)?(0<$(".enquiry-form").length&&$(".enquiry-form")[0].reset(),window.location=$("#thankyoupage").val()):b?$(".form-popup").show().find(".card-middle").html(Granite.I18n.get(a.failMsgType)||Granite.I18n.get(a.message)):a.failMsgType?showFormError(a.failMsgType):showFormError(a.message)}
function handleFail(a){$(".result-container").hide();$(".vasp-inquiry-result .result-container").hide();var b=null,c=200;if(a.responseText&&0<a.responseText.length){try{if(b=JSON.parse(a.responseText))c=b.status;"object"!=typeof b.message||"[object object]"!=Object.prototype.toString.call(b.message).toLowerCase()||b.message.length?0<=b.message.indexOf("{")&&(b=JSON.parse(b.message)):b=b.message}catch(d){console.error(d)}b?404==c?displayBusinesMsg(b.message):(showFormError(b.message),$(".vasp-inquiry-form").length&&
(a="global_form::"+$('.vasp-inquiry-form input[name\x3d"partnerID"]').val()+"::failed"+atModel.atSpliter+window.location.href,$(".vasp-inquiry-form").attr("data-complete-at","true"),$(".vasp-inquiry-form").attr("data-at-module2",a))):showFormError("Unknown Error occurred!")}else showFormError("Unknown Error occurred!")}
function handleComplete(){var a=$("#enquiry-form").attr("data-at-module");a=a+atModel.atSpliter+window.location.href;atModel.doAtEvent(a,"action",event);setTimeout(function(a){if($(".vasp-inquiry-form").length&&"true"===$(".vasp-inquiry-form").attr("data-complete-at")){var b=$(".vasp-inquiry-form").attr("data-at-module2");atModel.doAtEvent(b,"action",a);$(".vasp-inquiry-form").attr("data-complete-at","false")}},500,event)}
function hideErrorMsgBox(){$(".result-container").hide();var a=$("#error-msg-box");a&&a.hide()}function getFormHeader(a){var b=[];a=$(a).parent().find(".signature-hidden");0<a.length&&$(a).each(function(){var a={key:$(this).attr("name"),value:$(this).val()};b.push(a)});return b}
function checkInputs(a,b){a=$(a).find("input:required");for(var c=0;c<a.length;c++)if(""==$(a[c]).val()||$(a[c]).next('.error:not(".other-error"):visible').length)return $(a[c]).closest(".collapse").collapse("show"),b.attr("disabled","disabled"),!1;return!0}
function checkSelectorInputs(a,b){a=$(a).find(".region-selector-label input[type\x3dhidden], .selector-label");for(var c=0;c<a.length;c++)if(a[c].hasAttribute("required")&&0==a[c].value.trim().length)return $(a[c]).closest(".collapse").collapse("show"),b.attr("disabled","disabled"),!1}function requiredCheckboxGroup(a){var b=!0;$(a).find(".required-checkbox").each(function(a,d){b=0<$(d).find("input[type\x3d'checkbox']:checked, input[type\x3d'radio']:checked").length;if(!b)return!1});return b}
function checkRequired(a,b){for(var c=($("#enquiry-form").length?$("#enquiry-form"):$("form").not(".exception")).find('input:required, textarea:required, input[requredHidden\x3d"true"], input[required\x3d"required"]'),d=!0,e=0;e<c.length;e++)"none"!==$(c[e]).closest("#province-column").css("display")&&"none"!==$(c[e]).closest("#city-column").css("display")||c.splice(e,1);for(e=0;e<c.length;e++)if("checkbox"===$(c[e]).prop("type"))!1===$(c[e]).is(":checked")&&(d=!1);else if("radio"===$(c[e]).prop("type"))!1===
$(c[e]).is(":checked")&&(d=!1);else if(""==$(c[e]).val()||$(c[e]).next(".error:visible").length)d=!1;a=requiredCheckboxGroup(a);d&&a?b.removeAttr("disabled"):b.attr("disabled","disabled")}
function initValidateMsg(a,b){a.find('input:required, textarea:required, input[requredHidden\x3d"true"]').on("input change keyup",function(){setTimeout(function(){checkRequired(a,b)},0)});a.on("change",'.required-checkbox input[type\x3d"checkbox"], .required-checkbox input[type\x3d"radio"]',function(){setTimeout(function(){checkRequired(a,b)},0)});a.find("textarea").each(function(){var a=$(this).closest(".form-group").find(".char-counter"),b=parseInt($(this).attr("data-max-chars"));a.text($(this).val().length+
"/"+b);$(this).on("keyup",function(){var c=$(this).val().length;c>b?$(this).val($(this).val().substring(0,b)):a.text(c+"/"+b)})});$.validator.addMethod("regex",function(a,b,e){return this.optional(b)||e.test(a)},Granite.I18n.get("Please enter a valid value."));a.validate({errorElement:"em",errorPlacement:function(a,b){a.addClass("help-block");$(b).closest(".form-group").find("em.other-error").remove();$(b).closest(".form-group").find("br").remove();"checkbox"===b.prop("type")?a.insertAfter(b.parent("label")):
"verification"===b.prop("name").toLowerCase()?(b=b.siblings("img"),a.insertAfter(b[0]),$("\x3cbr\x3e").insertAfter(b[0])):a.insertAfter(b)},highlight:function(a,b,e){$(a).addClass("has-error");$(a).siblings("label").addClass("err-lbl").addClass("err");$(a).parent().addClass("err")},unhighlight:function(a,b,e){$(a).removeClass("has-error");$(a).siblings(".error").hide();$(a).siblings("label").removeClass("err-lbl").removeClass("err");$(a).parent().removeClass("err")}});a.find('input[type\x3d"radiobutton"]:required,form input[type\x3d"checkbox"]:required').rules("add",
{required:!0,messages:{required:Granite.I18n.get("This field is required.")}});a.find("input.email, input.xss-email").rules("add",{regex:/^([a-zA-Z0-9_.+-])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,messages:{regex:Granite.I18n.get("Please enter valid email address.")}});a.find("input.number, input.xss-number").rules("add",{regex:/^[0-9]+$/,messages:{regex:Granite.I18n.get("Please enter a valid number.")}});a.find("input.partneridname").rules("add",{required:!0,messages:{required:Granite.I18n.get("Partner ID/Name value is required.")}});
a.find("input.xss-number-phone").rules("add",{regex:/^[0-9]+$/,messages:{regex:Granite.I18n.get("Please enter your phone.")}});a.find("input.name").rules("add",{required:!0,messages:{required:Granite.I18n.get("Please enter your name.")}});a.find("input.phone").rules("add",{required:!0,messages:{required:Granite.I18n.get("Please enter your phone.")}});a.find(".serial-number-field input").rules("add",{regex:/^(?!^[A-Za-z]+$)([A-Za-z0-9])+$/,messages:{regex:Granite.I18n.get("Please enter valid serial number.")}})}
function submitHikForm(a,b,c){showSubmitLoading(b,!0);hideErrorMsgBox();if("PuristEmail"===c){c=getFormHeader(a);var d=getFormJsonData(a);d={async:"true",inner:"false",sender:"notice",businessTag:"cn-feedback-report",templateId:document.getElementById("emailTemplateId").value,to:document.getElementById("emailTo").value,parameters:d};doAjaxWithDataType("POST",a.action,JSON.stringify(d),"json","application/json",!1,c,null)}else if("json"===c)c=getFormHeader(a),doAjaxWithDataType("POST",a.action,JSON.stringify(getFormJsonData(a)),
"json","application/json",!1,c,null);else if("form"===c){var e=new FormData(a);c=getFormHeader(a);doAjax("POST",a.action,e,!1,!1,c,null)}else"contactInstaller"===c?(e=new FormData(a),c=e.get("name"),-1>=c.indexOf(" ")&&e.set("name",c+"installer"),c=getFormHeader(a),doAjax("POST",a.action,e,!1,!1,c,null)):"form-with-fileupload"===c?(e=new FormData(a),c=getFormHeader(a),Object.keys(globalUploadFile.fileAssets).forEach(function(a){e.append(a,globalUploadFile.fileAssets[a])}),doAjax("POST",a.action,e,
!1,!1,c,null)):"newsletters"===c?(e=new FormData(a),c=getFormHeader(a),doAjax("POST",a.action,e,!1,!1,c,null,!0)):"vasp-inquiry"===c?(e=new FormData(a),c=getFormHeader(a),d="global_form::"+$(a).find('input[name\x3d"partnerID"]').val()+"::search",$(a).attr("data-at-module",d),doAjax("POST",a.action,e,!1,!1,c,function(a){if(a){var b=a.accountName?a.accountName:"",c=a.website?a.website:"",d=a.accountLevel?a.accountLevel:"";$(".vasp-inquiry-result .account-name .value").text(b);$(".vasp-inquiry-result .vasp-level .value").text(d);
$(".vasp-inquiry-result .website .value").text(c);$(".vasp-inquiry-result .result-container").show();$(".vasp-inquiry-form").attr("data-complete-at","true");a="global_form::"+a.authorisedPartnerId+"::"+b+atModel.atSpliter+window.location.href;$(".vasp-inquiry-form").attr("data-at-module2",a)}},!0)):showFormError("Unknown Error occurred!");setTimeout(function(){showSubmitLoading(b,!1)},1E3)}
function initPuzzleVerification(a,b,c,d,e){$("#mpanel4").slideVerify({type:2,vOffset:5,vSpace:5,blockSize:{width:"40px",height:"40px"},success:function(){$(b).find(".verification input[name\x3dVerification]").val(c);$(".verifyModalWrap").hide();clearTimeout(e);submitHikForm(b,a,d)}});$(".verifyModalWrap .close-Verification").click(function(){$(".verifyModalWrap").hide();clearTimeout(e)})}
function showVerifyModal(a,b,c){var d="";$.ajax({type:"get",url:"/bin/hikvision/form-secure.image.json?t\x3d"+(new Date).getTime(),async:!1,success:function(e){if(0==e.code){$(".verifyModalWrap").first().show();d=e.data;var f=setTimeout(function(){$(".verifyModalWrap").hide();clearTimeout(f)},5E4);initPuzzleVerification(a,b,d,c,f)}}})}
function initHikFormValidator(a,b,c,d){b.attr("disabled",!0);$.validator&&($.validator.setDefaults({focusInvalid:!0,submitHandler:function(e,f){checkInputs(a,b);checkSelectorInputs(a,b);"imageVerify"===d?showVerifyModal(b,e,c):submitHikForm(e,b,c)},invalidHandler:function(a,b){console.log("invalid")}}),initValidateMsg(a,b))}
$.fn.serializeJson=function(){var a={},b=this.serializeArray();this.serialize();$(b).each(function(){a[this.name]?$.isArray(a[this.name])?a[this.name].push(this.value):a[this.name]=[a[this.name],this.value]:a[this.name]=this.value});return a};function getFormJsonData(a){var b=$("#enquiry-form").serializeJson();a&&checkboxData(b);return b}function checkboxData(a){for(var b in a)$.isArray(a[b])&&(a[b]=a[b].join(";"))}
function initNewDropdown(a,b){var c=a.find(".dropdown-wrapper"),d=a.hasClass("hcc-form"),e=c.find(".dropdown"),f=a.find(".hik-select-selection");c.each(function(c,h){function g(){u($(h));m.slideToggle("fast",function(){m.is(":visible")?x():n()});var a=t(),b=l();a.slideUp("fast",function(){var a=$(this);a.parent().hasClass("outlined")&&a.parent().removeClass("shrink");$(this).removeClass("remove-top-border");$(this).parent().find(".selector-label").removeClass("remove-top-border");z.removeClass("mobile-selector-tips")});
b.slideUp("fast",function(){var a=$(this);a.parent().removeClass("active");a.parent().find(".hik-select-input").removeClass("shrink")})}function l(){return f.filter(function(a,b){a=$(b);if(a.parent().hasClass("active"))return a})}function t(){return e.filter(function(a,b){a=$(b);if(a.length&&a[0]!==m[0])return a})}function x(){p.addClass("remove-top-border");m.addClass("remove-top-border");z.addClass("mobile-selector-tips")}function n(){m.removeClass("remove-top-border");p.removeClass("remove-top-border");
z.removeClass("mobile-selector-tips")}function u(a){a.hasClass("outlined")&&(a.find(".dropdown").find("li").length?a.find(".dropdown").css("opacity","1"):a.find(".dropdown").css("opacity","0"))}var q=$(h),A=!1,m=q.find(".dropdown"),p=q.find(".selector-label"),B=p.find(".selected-option"),r=p.find(".filter-input"),v=p.find("input.hidden-value"),w=p.find("input.hidden-code"),z=p.find(".dropdown-selector-tips").parents(".form-group");if(d){var E=p.find("input.hidden-region");var F=p.find("input.hidden-header")}p.unbind("click").on("click",
function(a){a.stopPropagation();g();$(h).hasClass("outlined")&&$(h).addClass("shrink")});m.off("click","li:not(.not-selectable)").on("click","li:not(.not-selectable)",function(c){c.stopPropagation();c=$(this);var e=q.hasClass("required");if("disable"!=c.data("status")){c.siblings().removeClass("active");c.addClass("active");var f=c.attr("data-value"),h=c.text().trim(),g=c.attr("data-code");B.html(h);B.removeClass("selected-init");r.val(h);if(d){h=c.attr("data-region");var D=c.attr("data-header");
E.val(h);F.val(D)}a.hasClass("product-trials-and-promotions-form")||a.hasClass("offline-stores-comp")?v.val(f).trigger("change"):v.val(f);isNull(g)||(a.hasClass("product-trials-and-promotions-form")||a.hasClass("ir-annual-download-comp")?w.val(g).trigger("change"):w.val(g));m.slideUp("fast",n);r.hasClass("country-filter-input")&&globalPcd?(globalPcd.selectCountry(a,g,c),f=a.find(".other-distributor"),globalDistributor.renderDistributorOption(a,g,f)):r.hasClass("cn-province-filter-input")&&cnPcd&&
cnPcd.selectProvince(a,f,c);e&&checkRequired(a,b);c.parents(".outlined").length&&c.parents(".outlined").first().addClass("shrink").addClass("hasVal")}});m.off("mouseenter","li .option-tooltip-icon").on("mouseenter","li .option-tooltip-icon",function(a){a.stopPropagation();a=$(this);var b=a.closest(".form-group"),c=b.get(0).getBoundingClientRect().left;c=b.width()+c+266;var d=b.hasClass("half");b=b.offset().left;var e=a.attr("data-tooltip");e&&992<=window.innerWidth&&(a=a.closest("li"),window.innerWidth>=
c||b<window.innerWidth/2&&d?(c=$('\x3cdiv class\x3d"tooltip-container"\x3e'+e+"\x3c/div\x3e"),a=a.offset().top-q.offset().top+a.outerHeight()/2):(c=$('\x3cdiv class\x3d"tooltip-container show-tooltip-on-top"\x3e'+e+"\x3c/div\x3e"),a=a.offset().top-q.offset().top-5),c.css({top:a+"px"}),q.append(c))});m.off("click","li .option-tooltip-icon").on("click","li .option-tooltip-icon",function(a){a.stopPropagation()});m.off("mousedown","li .option-tooltip-icon").on("mousedown","li .option-tooltip-icon",function(a){a.stopPropagation();
var b=$(this);a=b.attr("data-tooltip");if(!b.closest(".form-group").hasClass("group-business-type")&&a&&992>window.innerWidth){var c=q.find(".tooltip-container");0<c.length?(c.remove(),A=!1):(b=b.closest("li"),a=$('\x3cdiv class\x3d"tooltip-container"\x3e'+a+"\x3c/div\x3e"),b=b.offset().top-q.offset().top-5,a.css({top:b+"px"}),q.append(a),A=!0)}});m.off("mouseleave","li .option-tooltip-icon").on("mouseleave","li .option-tooltip-icon",function(a){a.stopPropagation();q.find(".tooltip-container").remove()});
var y=[],C=[];r.unbind("keyup").on("keyup",function(){var a=$(this);y=[];var b=a.val().replace(/^\s*/g,"");a=a.parent().siblings("ul");a.is(":hidden")&&g();a=a.find("li");$.each(a,function(a,c){a=$(this).text();$(this).val()===a&&C.push(a);0<=a.toLowerCase().indexOf(b.toLowerCase())?($(this).show(),y.push(a)):$(this).hide()});y.length?r.parent().siblings("ul").css("opacity",1):r.parent().siblings("ul").css("opacity",0);$(this).parent().parent().hasClass("outlined")&&$(this).val()&&$(this).parent().parent().addClass("hasVal")});
r.on("input",function(){if($(this).hasClass("editor-input")){var a=$(this).val();v.val(a).trigger("change");w.val("").trigger("change")}});r.unbind("blur").on("blur",function(){if(!A){var b=$(this).parent().siblings("ul").find("li"),c=[],d=$(this);$.each(b,function(a,b){a=$(b).text().replace("/n","").trim();c.push(a)});if(!y.length||!C.length){if(-1===c.indexOf($(this).val()))if(d.hasClass("editor-input")){if(b=d.val(),v.val(b),w.val(""),"selected-province"===r.attr("id")){var e=a.find("#street");
e.val(b);e.trigger("change")}}else d.val(""),v.val(""),w.val("");else b.each(function(a){c.indexOf(d.val())===a&&($(this).hasClass("not-selectable")?(d.val(""),v.val(""),w.val(""),$(this).closest(".outlined").removeClass("hasVal")):$(this).trigger("click"))});v.trigger("change");w.trigger("change")}$(this).parent().parent().hasClass("outlined")&&$(this).parent().parent().removeClass("shrink")}});r.unbind("focus").on("focus",function(){var a=$(this).parent().siblings("ul").find("li");$.each(a,function(a,
b){$(this).show()})});$("body").on("click",function(){$(h).hasClass("shrink")&&$(h).removeClass("shrink");$(h).find("input").first().val()&&$(h).find("input").first().val().trim()?$(h).addClass("hasVal"):$(h).removeClass("hasVal");m.slideUp("fast",function(){m.is(":visible")?x():n()})})})}
function initHiddenValue(){var a=$.cookie("contactUsUrl");a=a&&"123"!==a?a:"";var b=document.getElementById("submittedPage");b&&(b.value=decodeURIComponent(a),storeManager.cookie.remove("contactUsUrl"));a=$.cookie("HIKID");b=document.getElementById("hikId");if(a&&b)try{a=atob(a),b.value=a}catch(c){console.log("Login Error:"+c)}a=$.cookie("HIKEMAIL");b=document.getElementById("email");if(a&&b)try{a=atob(a),b.value=a,$("#enquiry-form.apply-for-permission-form").length&&$(b).attr("readonly","readonly")}catch(c){console.log("Login Error:"+
c)}if(a=document.getElementById("urlSource"))a.value=window.location.href}
function setDefaultCountryValue(){var a=$(".region-selector-country").find(".country-options");if(1===a.length){var b=a.attr("data-country"),c=a.attr("data-country-code");a.parent().parent().find(".region-selector-label").find("input[name\x3dCountry]").val(b);a.parent().parent().find(".region-selector-label").find(".selected-option-input").val(b);a.parent().parent().find(".region-selector-label").find("input[name\x3dcountryCode]").val(c);$("#txtNdEmail").removeAttr("required")}}
(function(a,b){b(a).ready(function(){b(a).on("click",".verification img",function(a){refreshVerification()});b(".verification img").hasClass("cn-verification")&&refreshVerification();var c=b("#enquiry-form").length?b("#enquiry-form"):b("form").not(".exception");if(0<c.length&&!c.hasClass("old-form")){var d=c.find("button[type\x3d'submit']");if(d&&0<d.length){var e="form",f=c.data("form-type");c[0].hasAttribute("data-form-data")&&(e=c.attr("data-form-data"));initHikFormValidator(c,d,e,f);initNewDropdown(c,
d);initHiddenValue()}}c.find('input:required, input[requredHidden\x3d"true"]').on("blur",function(){b(this).val(b(this).val().trim());checkInputs(b("#enquiry-form"),b("#enquiry-form").find("button[type\x3d'submit']"))});c.find("input:required").on("input",function(){setTimeout(function(){checkInputs(b("#enquiry-form"),b("#enquiry-form").find("button[type\x3d'submit']"))},500)});setDefaultCountryValue()})})(document,$);
(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):"object"===typeof module&&module.exports?module.exports=a(require("jquery")):a(jQuery)})(function(a){if(!a.validator)return a;a.extend(a.validator.messages,{required:Granite.I18n.get("This field is required."),remote:Granite.I18n.get("Please fix this field."),email:Granite.I18n.get("Please enter a valid email address."),url:Granite.I18n.get("Please enter a valid URL."),date:Granite.I18n.get("Please enter a valid date."),dateISO:Granite.I18n.get("Please enter a valid date (ISO)."),
number:Granite.I18n.get("Please enter a valid number."),digits:Granite.I18n.get("Please enter only digits."),equalTo:Granite.I18n.get("Please enter the same value again."),maxlength:a.validator.format(Granite.I18n.get("Please enter no more than {0} characters.")),minlength:a.validator.format(Granite.I18n.get("Please enter at least {0} characters.")),rangelength:a.validator.format(Granite.I18n.get("Please enter a value between {0} and {1} characters long.")),range:a.validator.format(Granite.I18n.get("Please enter a value between {0} and {1}.")),
max:a.validator.format(Granite.I18n.get("Please enter a value less than or equal to {0}.")),min:a.validator.format(Granite.I18n.get("Please enter a value greater than or equal to {0}.")),step:a.validator.format(Granite.I18n.get("Please enter a multiple of {0}."))});return a});
var hrefLang=function(a){var b={};document.head||document.getElementsByTagName("head");b.init=function(){a(document).ready(function(){setTimeout(function(){a.each(a("script"),function(){if("https://www.youtube.com/iframe_api"===a(this).attr("src"))return a(".licdn-preload").after('\x3clink href\x3d"https://www.youtube.com" rel\x3d"preconnect" /\x3e'),a(".licdn-preload").after('\x3clink href\x3d"https://www.youtube.com" rel\x3d"dns-prefetch" /\x3e'),!1})},500)})};return b}($);hrefLang.init();
var videoArrays=[],youtubeEvent=function(){function a(a){try{switch(a.data){case YT.PlayerState.PLAYING:a.target.clicknum||(a.target.clicknum=0);var b=a.target.clicknum;++a.target.clicknum;if(!(0<b)){var d=$(a.target.h),e=$(d).data("at-module"),f=$(d).data("video-id"),g=window.location.href;g=g.replaceAll("%20","_");atModel.doAtEvent(e+atModel.atSpliter+f+atModel.atSpliter+g,"action",a)}}}catch(h){}}return{init:function(){if(!document.getElementById("youtube-iframe-api")){var a=document.createElement("script");
a.src="https://www.youtube.com/iframe_api";a.id="youtube-iframe-api";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(a,c)}},initYTPlayer:function(b,c){var d=new YT.Player(b,{events:{onStateChange:a}});d.maxTime=0;d.lastPosition=0;d.lastPositionPaused=0;d.lastTimeGap=void 0;d.seekTimeout=0;$(b).closest(".animated-videos").on("hikplyr:ytb-pause-player",function(){d.pauseVideo()});$(b).closest(".animated-videos").on("hikplyr:ytb-play-player",function(){d.playVideo()});videoArrays.push(d)}}}();
function onYouTubeIframeAPIReady(){var a=document.querySelectorAll(".features-device-right");$.each(a,function(a,c){var b=$(c);a=b.attr("data-autoplay");var e=getVideoId(b.attr("data-video"),"v");localStorage.getItem("media_firstVideoPlayed")&&(a=0);e?(1==a&&localStorage.setItem("media_firstVideoPlayed","1"),c=b.addClass("youtubeVideo").find("iframe"),c.attr("src","https://www.youtube-nocookie.com/embed/"+e+"?rel\x3d0\x26autoplay\x3d"+a+"\x26controls\x3d1\x26mute\x3d1\x26enablejsapi\x3d1\x26origin\x3d"+
location.origin),c.attr("data-video-id",e),youtubeEvent.initYTPlayer(c[0],e)):-1!==b.attr("data-video").indexOf("youtu")?(1==a&&localStorage.setItem("media_firstVideoPlayed","1"),c=b.addClass("youtubeVideo").find("iframe"),b=b.attr("data-video").slice(b.attr("data-video").lastIndexOf("/")+1,b.attr("data-video").length),c.attr("src","https://www.youtube-nocookie.com/embed/"+b+"?rel\x3d0\x26autoplay\x3d"+a+"\x26controls\x3d1\x26mute\x3d1\x26enablejsapi\x3d1\x26origin\x3d"+location.origin),c.attr("data-video-id",
b),youtubeEvent.initYTPlayer(c[0],b)):b.removeClass("youtubeVideo");setTimeout(function(){$(".features-device-right iframe").contents().find(".ytp-overflow-icon").hide()},1E3)})}
var mediaComponent=function(a){function b(b,d){d=d.find(".features-device-right.animated-videos");d.length&&(b.find('.media-content-item:not(.active) .animated-videos[data-video-type\x3d"internal"]').each(function(){a(this).trigger("hikplyr:pause-player")}),b.find('.media-content-item:not(.active) .animated-videos[data-video-type\x3d"youtube"]').each(function(){a(this).trigger("hikplyr:ytb-pause-player")}),"internal"===d.attr("data-video-type")&&"1"===d.attr("data-autoplay")?d.trigger("hikplyr:play-player"):
"1"===d.attr("data-autoplay")&&d.trigger("hikplyr:ytb-play-player"))}return{init:function(){a(document).ready(function(){localStorage.setItem("media_firstVideoPlayed","");a(".media-category-tab").each(function(){var c=a(this);a(this).find(".media-category-tab-item").off("click").on("click",function(d){d=a(this).parent().find(".media-category-tab-item.active");if(!a(this).is(d)){a(this).addClass("active");d.removeClass("active");var e=a(this).attr("data-tab-index");d=a(this).closest(".media-category-tab").next();
c.hasClass("tab-without-icon")&&(d=a(this).closest(".media-category-tab").parent().next());e=d.find(".media-content-item[data-media-index\x3d "+e+"]");d.find(".media-content-item.active").removeClass("active");e.addClass("active");e.find(".rich-text__image").find("img").attr("src",e.find(".rich-text__image").find("img").data("original"));b(d,e)}})});var c=a(".media, .new-media");c.hasClass("media-full-bleeding")&&c.removeClass("fixed-width-container");a(".features-device-right.animated-videos").each(function(){var b=
a(this),c=b.attr("data-video"),f=b.attr("data-poster");"internal"===b.attr("data-video-type")&&(f=a("\x3cvideo/\x3e",{playsinline:"",controls:"",poster:f,class:"hikvision-player"}),f.append(a('\x3csource src\x3d"'+c+'" type\x3d"video/mp4"/\x3e')),b.append(f))});c.find(".hikvision-player").each(function(){var b=a(this).closest(".animated-videos").hasClass("device-new-media"),c=a(this).closest(".animated-videos"),f="1"===c.attr("data-autoplay"),g=f?0:1,h=b?!0:"first"===a(this).closest(".media-content-item").attr("data-media-index"),
k=new Plyr(this,{volume:g,autoplay:f,muted:f,controls:"play play-large progress current-time mute captions settings pip airplay download fullscreen".split(" ")}),l="";b=a(this).closest(".features-device-right.animated-videos");g=(g=b.attr("data-video"))?g.split("/").pop():"";b.hasClass("media-comp")&&(l="media::"+g);b.hasClass("new-media-comp")&&(l="media_with_title_background::"+g);k.on("ready",function(){a(this).closest(".plyr").attr("data-at-module",l);a(this).on("loadedmetadata",function(){a(this).closest(".animated-videos").hasClass("media-comp")&&
a(this).closest(".media-wrapper").trigger("autoResizeMedia")});f&&h?(k.muted=!0,k.playing||localStorage.getItem("media_firstVideoPlayed")||(localStorage.setItem("media_firstVideoPlayed","1"),k.play())):k.increaseVolume(1)});c.off("hikplyr:pause-player").on("hikplyr:pause-player",function(){k.playing&&k.pause()});c.off("hikplyr:play-player").on("hikplyr:play-player",function(){k.playing||k.play()});k.on("playing",function(a){var b=a.currentTarget.dataset;a.currentTarget.dataset.clicknum&&(a.currentTarget.dataset.clicknum=
0);b=b.clicknum;++a.currentTarget.dataset.clicknum;0<b||(b=atModel.getTitle(a.currentTarget),atModel.doAtEvent(b,"action",a))});videoArrays.push({videos:k,autoplay:f})});a.each(a(".mediaPlayer"),function(a,b){b&&youtubeEvent.init()});a(window).on("scroll",function(){visualVideo(videoArrays)})})}}}($);
function getVideoId(a,b){if(!a)return"";if(-1!==a.indexOf(b+"\x3d")){b=new RegExp("(^|\x26)"+b+"\x3d([^\x26]*)(\x26|$)","i");var c=a?a.indexOf("?"):-1;a=a.slice(c+1,a.length).substr(0).match(b);return null!=a?unescape(a[2]):""}return-1!==a.indexOf("youtu")?(b=a.lastIndexOf("/"),a.slice(b+1,a.length+1)):""}
function visualVideo(a){$.each(a,function(a,c){c&&c.videos&&(c.videos.elements?(a=$(c.videos.elements.captions).parent().offset().top,a+$(c.videos.captions).parent().height()>=$(window).scrollTop()&&a<$(window).scrollTop()+$(window).height()&&c.autoplay?c.videos.play():c.videos.pause()):(a=$(c.h).offset().top,a+$(c.h).height()>=$(window).scrollTop()&&a<$(window).scrollTop()+$(window).height()&&c.autoplay?c.videos.playVideo():c.videos.pauseVideo()))})}mediaComponent.init();
(function(a,b){function c(a){a=new RegExp("(^|\x26)"+a+"\x3d([^\x26]*)(\x26|$)");return(a=window.location.search.substr(1).match(a))?decodeURI(a[2]):""}b(a).ready(function(){var a=b("#header"),e=b("#cmp-subheader-selector"),f=c("comp"),g=b('[data-website-link-anchor \x3d "'+f+'"]');g.length&&setTimeout(function(){var c=g.offset().top;e.length&&(c=e.offset().top<c?c-2*e.height():c-e.height());992>b(window).width()&&(c-=a.height());window.scrollTo(0,c)},100)})})(document,$);
(function(a,b){function c(a){if(a)return a[0].toUpperCase()+a.substr(1)}(function(){var d=a.createElement("script");d.type="application/ld+json";var e=b(".header-2.aem-GridColumn .header-nav-ul").find(".header-nav-dw"),f=b("body").attr("data-page-path").split("/"),g="Products products Solutions solutions Support support Partners partners".split(" ");if(4<f.length){var h=[{"@type":"ListItem",position:1,name:f[4]&&-1!==f[4].indexOf(".html")?c(f[4].replace(".html","")):c(f[4]),item:window.origin+"/"+
f[3]+"/"+(f[4]&&-1!==f[4].indexOf(".html")?f[4].replace(".html",""):f[4])+"/"}];b.each(e,function(a,c){if(-1!==g.indexOf(f[4])){var d=b(c).find("a").attr("href");0<a&&b(c).find("a")&&d&&(c=f[a+4]&&-1<f[a+4].indexOf(".html")?f[a+4].replace(".html",""):f[a+4],h.push({"@type":"ListItem",position:a+1,name:b(b(".link-drp.at-navigation").get(a-1)).text(),item:d&&"javaScript:void(0);"!==d?window.origin+d:window.origin+"/"+c+"/"}))}else d=b(c).find("a").attr("href"),2<a&&b(c).find("a")&&d&&4>a&&(c=f[a+4]&&
-1<f[a+4].indexOf(".html")?f[a+4].replace(".html",""):f[a+4],h.push({"@type":"ListItem",position:a,name:b(b(".link-drp.at-navigation").get(a-1)).text(),item:d&&"javaScript:void(0);"!==d?window.origin+d:window.origin+"/"+c+"/"}))});e.length&&(-1!==g.indexOf(f[4])?h.push({"@type":"ListItem",position:e.length,name:b(".logo-title-wrap .title").text(),item:window.location.href}):h.push({"@type":"ListItem",position:e.length-1,name:b(".logo-title-wrap .title").text(),item:window.location.href}));d.text=
JSON.stringify({"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:h});(e.length||5===_.uniq(f).length)&&a.querySelector("head").appendChild(d)}})()})(document,$);